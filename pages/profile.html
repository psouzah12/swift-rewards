<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Swift Rewards — Perfil</title>

  <!-- Fonts + Bootstrap -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Estilos globais + página -->
  <link href="../assets/css/styles.css" rel="stylesheet">
  <link href="../assets/css/profile.css" rel="stylesheet">
</head>
<body class="bg-white">

  <!-- topo -->
  <header class="container pt-3 pb-1 mb-3">
    <div class="d-flex align-items-center justify-content-between">
      <a href="./home.html" class="btn btn-link text-decoration-none p-0" aria-label="Voltar">
        <i class="bi bi-chevron-left fs-5"></i>
      </a>
      <h1 class="h5 fw-bold mb-0">Meu Perfil</h1>
      <span style="width:28px;"></span>
    </div>
  </header>

  <main class="container pb-6">

    <!-- header do perfil -->
    <section class="mb-3">
      <div class="d-flex align-items-center gap-3">
        <!-- Avatar (foto OU iniciais) -->
        <div id="profileAvatar" class="avatar avatar-text" aria-hidden="true"></div>

        <div>
          <div id="profileName" class="h5 fw-bold mb-0">Colaborador</div>
          <button class="btn btn-link p-0 text-secondary small"
                  data-bs-toggle="modal" data-bs-target="#editProfileModal">
            Editar Perfil
          </button>
        </div>
      </div>
    </section>

    <h2 class="h5 fw-bold mb-3">Suas Métricas</h2>

    <!-- métricas -->
    <section class="metrics-card mb-4">
      <div class="metric">
        <div class="metric-label">Avaliações</div>
        <div id="mReviews" class="metric-value">0</div>
      </div>
      <div class="metric">
        <div class="metric-label">Vendas</div>
        <div id="mSales" class="metric-value">0</div>
      </div>
      <div class="metric">
        <div class="metric-label">Missões Feitas</div>
        <div id="mMissions" class="metric-value">0</div>
      </div>
    </section>

    <!-- lista de configurações -->
    <section class="mb-5">
      <h2 class="h5 fw-bold mb-3">Configurações</h2>
      <nav class="list-group list-group-flush shadow-none">
        <a class="list-group-item setting-item" href="./profile-data.html">Meus Dados</a>
        <a class="list-group-item setting-item" href="./company.html">Dados do Empreendimento</a>
        <a class="list-group-item setting-item" href="./profile-level.html">Evolução de Nível</a>
        <a class="list-group-item setting-item" href="./achievements.html">Minhas Conquistas</a>
        <a class="list-group-item setting-item" href="./history.html">Histórico de Resgates</a>
        <a class="list-group-item setting-item" href="./preferences.html">Preferências</a>
        <button id="btnLogout" class="list-group-item setting-item text-danger text-start">Fazer Logout</button>
      </nav>
    </section>

  </main>

  <!-- bottom nav -->
  <nav class="bottom-nav">
    <a href="./home.html"><i class="bi bi-house-door"></i><span>Início</span></a>
    <a href="./points.html"><i class="bi bi-coin"></i><span>Meus Pontos</span></a>
    <a href="./reviews.html"><i class="bi bi-graph-up"></i><span>Avaliações</span></a>
    <a class="active" href="./profile.html"><i class="bi bi-person"></i><span>Perfil</span></a>
  </nav>

  <!-- MODAL: Editar Perfil -->
  <div class="modal fade" id="editProfileModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <form class="modal-content" id="formEditProfile">
        <div class="modal-header">
          <h5 class="modal-title fw-bold">Editar Perfil</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
        </div>

        <div class="modal-body">
          <!-- preview da foto -->
          <div class="d-flex align-items-center gap-3 mb-3">
            <div id="photoPreview" class="avatar avatar-img"></div>
            <div>
              <label for="photoInput" class="form-label mb-1">Foto de perfil</label>
              <input class="form-control" type="file" id="photoInput" accept="image/*">
              <div class="form-text">PNG/JPG até ~2MB.</div>
              <button id="btnRemovePhoto" type="button" class="btn btn-link p-0 small mt-1">Remover foto</button>
            </div>
          </div>

          <div class="row g-3">
            <div class="col-sm-6">
              <label class="form-label" for="firstName">Nome</label>
              <input id="firstName" class="form-control" type="text" required>
            </div>
            <div class="col-sm-6">
              <label class="form-label" for="lastName">Sobrenome</label>
              <input id="lastName" class="form-control" type="text" required>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button class="btn btn-outline-secondary" type="button" data-bs-dismiss="modal">Cancelar</button>
          <button class="btn btn-brand" type="submit">Salvar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Scripts (ordem com defer) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
  <script src="../assets/js/main.js" defer></script>
  <script src="../assets/js/profile.js" defer></script>
</body>
</html>